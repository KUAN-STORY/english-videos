<style>
  .card-cover-wrap{position:relative;overflow:hidden;border-radius:12px;background:#0b1324;height:200px}
  .card-cover{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block}
  .card-cover-wrap::after{
    content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent 60%,rgba(0,0,0,.55));
  }
</style>
<script>
  function renderCards(list){
    const grid = document.getElementById('grid'); // 你的卡片容器
    grid.innerHTML = '';
    list.forEach(item=>{
      const el = document.createElement('a');
      el.className = 'card';
      el.href = `player.html?slug=${encodeURIComponent(item.slug)}`;
      el.innerHTML = `
        <div class="card-cover-wrap">
          <img class="card-cover" src="${item.cover || ''}" loading="lazy"
               onerror="this.style.display='none'">
        </div>
        <div class="p-4">
          ${item.is_free ? '<span class="chip chip-free">免費試看</span>' : '<span class="chip chip-lock">需登入</span>'}
          <h3 class="title">${item.title_en}</h3>
          <div class="muted">${item.title_zh} · ${item.length}</div>
          <div class="row mt-2">
            <a class="btn sm" href="player.html?slug=${encodeURIComponent(item.slug)}">前往 ▶</a>
            <a class="btn sm ghost" href="player.html?slug=${encodeURIComponent(item.slug)}&tab=quiz">測驗</a>
          </div>
        </div>`;
      grid.appendChild(el);
    });
  }
</script>

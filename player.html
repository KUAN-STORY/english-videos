<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>英語影片播放器</title>
  <link rel="icon" href="data:,">

  <style>
    :root{
      --bg:#0b1324; --panel:#0f1a33; --border:#203057; --text:#e7eaf3; --muted:#a9b3cf;
      --brand:#3c7cff; --ok:#12b886; --warn:#f5a524;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans",sans-serif;}
    .wrap{height:100%;display:grid;grid-template-columns:minmax(320px,1fr) 48%;gap:14px;padding:14px;box-sizing:border-box}

    /* 左欄：影片 & 工具列 */
    .stage{display:grid;grid-template-rows:1fr auto;gap:12px;border:1px solid var(--border);border-radius:14px;background:#0b1324;overflow:hidden}
    .videoBox{display:flex;align-items:center;justify-content:center;background:#000}
    video{max-width:100%;max-height:100%;object-fit:contain;aspect-ratio:9/16}
    .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:center;
      padding:12px;background:var(--panel);border-top:1px solid var(--border)}
    .btn{padding:8px 12px;border:1px solid var(--border);background:#122147;color:#fff;border-radius:10px;cursor:pointer}
    .btn:hover{filter:brightness(1.08)}
    .row{display:inline-flex;gap:10px;align-items:center}
    input[type="range"]{vertical-align:middle}

    /* 右欄：字幕/測驗/單字 */
    .side{display:flex;flex-direction:column;border:1px solid var(--border);border-radius:14px;background:var(--panel);overflow:hidden}
    .tabs{display:flex;border-bottom:1px solid var(--border);background:#0f1a33}
    .tab{flex:1;text-align:center;padding:12px 8px;color:var(--muted);cursor:pointer;user-select:none}
    .tab.active{font-weight:700;color:#fff;background:#132046}
    .pane{flex:1;overflow:auto;padding:12px;display:none}
    .pane.active{display:block}

    /* 字幕控制列 */
    .subbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:10px}
    .pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#122147;cursor:pointer}
    .pill.active{background:#1b3a83;border-color:#2d4ea7}
    .muted{color:var(--muted)}

    /* 字幕表格 */
    table.cues{width:100%;border-collapse:collapse}
    table.cues th, table.cues td{border-bottom:1px solid #19274f;padding:8px 6px;vertical-align:top}
    table.cues tr.active{background:#13224a}
    table.cues td.time{white-space:nowrap;color:#9fb2ff}
    .fs-s .en, .fs-s .zh{font-size:14px}
    .fs-m .en, .fs-m .zh{font-size:16px}
    .fs-l .en, .fs-l .zh{font-size:18px}

    /* 測驗/單字 */
    .qcard{border:1px solid var(--border);border-radius:10px;padding:10px;margin-bottom:10px;background:#101c39}
    .qcard h4{margin:0 0 8px 0}
    .opt{display:block;padding:8px;border:1px solid #2a3d76;border-radius:10px;margin:6px 0;cursor:pointer}
    .opt:hover{background:#0f1f4d}
    .opt.correct{border-color:#17c964;background:rgba(23,201,100,.07)}
    .opt.wrong{border-color:#f31260;background:rgba(243,18,96,.07)}
    .vlist li{margin:6px 0}
    .warn{color:#f5a524}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- 左：影片 + 工具列（工具列固定在下方，不會被變焦蓋住） -->
    <section class="stage">
      <div class="videoBox">
        <video id="player" controls preload="metadata"></video>
      </div>
      <div class="toolbar">
        <div class="row">
          <button class="btn" id="prevBtn">上一句</button>
          <button class="btn" id="playBtn">播放/暫停</button>
          <button class="btn" id="nextBtn">下一句</button>
          <button class="btn" id="repeatBtn">重複本句</button>
          <button class="btn" id="abBtn">A-B 循環</button>
          <button class="btn" id="abClearBtn">取消循環</button>
        </div>
        <div class="row">
          <label class="btn">速度
            <input id="rate" type="range" min="0.5" max="2" step="0.05" value="1">
            <span id="rateLabel">1.00×</span>
          </label>
          <label class="btn">變焦
            <input id="zoom" type="range" min="1" max="2" step="0.05" value="1.00">
          </label>
        </div>
      </div>
    </section>

    <!-- 右：字幕 / 測驗 / 單字 -->
    <section class="side">
      <div class="tabs">
        <div class="tab active" data-tab="sub">字幕</div>
        <div class="tab" data-tab="quiz">測驗</div>
        <div class="tab" data-tab="vocab">單字</div>
      </div>

      <div id="pane-sub" class="pane active">
        <div class="subbar">
          <label class="pill"><input id="follow" type="checkbox" checked> 跟隨</label>
          <span class="pill">偏移 <span id="offsetText">0.0</span>s</span>
          <button class="pill" id="offMinus">-0.5s</button>
          <button class="pill" id="offPlus">+0.5s</button>
          <span class="muted">(尚未載入)</span>
          <span style="margin-left:auto" class="row">
            字級
            <button class="pill fsBtn" data-fs="s">S</button>
            <button class="pill fsBtn active" data-fs="m">M</button>
            <button class="pill fsBtn" data-fs="l">L</button>
          </span>
        </div>
        <div id="cueWrap" class="fs-m">
          <table class="cues" id="cueTable">
            <thead><tr><th>時間</th><th>英文</th><th>中文</th></tr></thead>
            <tbody></tbody>
          </table>
          <div id="cueEmpty" class="warn" style="display:none">查無字幕資料</div>
        </div>
      </div>

      <div id="pane-quiz" class="pane">
        <div id="quizList"></div>
      </div>

      <div id="pane-vocab" class="pane">
        <ul id="vocabList" class="vlist"></ul>
      </div>
    </section>
  </div>

  <!-- 主程式 -->
  <script src="player.js?v=3"></script>
</body>
</html>








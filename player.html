<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>故事學英文：播放器</title>
  <style>
    :root{
      --bg:#0f172a; --card:#0b1222; --text:#e5e7eb; --muted:#94a3b8; --accent:#2563eb;
      --row:#111827; --row-active:#1f2937; --border:#22324a;
    }
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","Helvetica Neue",Arial;}
    a{color:inherit}
    .wrap{display:flex; height:100vh; overflow:hidden;}

    /* 左右 50% : 50% */
    .left{width:50%; display:flex; align-items:center; justify-content:center; background:#000;}
    .left .video-box{width:100%; max-width:920px; padding:10px;}
    video{width:100%; height:auto; background:#000; border-radius:8px}

    .right{width:50%; display:flex; flex-direction:column; border-left:1px solid var(--border); background:var(--card)}
    .tabs{display:flex; gap:8px; padding:10px 12px; border-bottom:1px solid var(--border); position:sticky; top:0; background:var(--card); z-index:2}
    .tab-btn{border:1px solid var(--border); background:#0f1628; color:#cbd5e1; padding:6px 14px; border-radius:8px; cursor:pointer}
    .tab-btn.active{background:var(--accent); border-color:var(--accent); color:#fff}

    .toolbar{display:flex; align-items:center; gap:8px; padding:8px 12px; border-bottom:1px solid var(--border); flex-wrap:wrap}
    .badge{padding:3px 8px; border:1px solid var(--border); border-radius:999px; background:#10213a; color:#d1d5db; font-size:12px}

    .pane{display:none; height:100%; overflow:auto}
    .pane.active{display:block}

    table{width:100%; border-collapse:collapse; font-size:14px}
    th,td{padding:10px; border-bottom:1px solid var(--border); vertical-align:top}
    thead th{position:sticky; top:0; background:var(--card); z-index:1}
    tbody tr{background:var(--row)}
    tbody tr:nth-child(odd){background:#0f1525}
    tbody tr.active{background:var(--row-active)}
    .time{white-space:nowrap; color:var(--muted)}
    .answer{color:#34d399}

    /* 小螢幕時堅持 50/50，不用堆疊，避免版面跑掉 */
  </style>
</head>
<body>
  <div class="wrap">
    <!-- 左：影片 -->
    <section class="left">
      <div class="video-box">
        <video id="video" controls preload="metadata"></video>

        <!-- 字幕工具：跟隨 / 提早 / 延後 -->
        <div class="toolbar" id="cueTools">
          <label class="badge">
            <input id="followChk" type="checkbox" checked />
            跟隨
          </label>
          <span class="badge">偏移 <span id="offsetLabel">0.0s</span></span>
          <button class="badge" id="-05">-0.5s</button>
          <button class="badge" id="+05">+0.5s</button>
        </div>
      </div>
    </section>

    <!-- 右：字幕 / 測驗 / 單字 -->
    <section class="right">
      <div class="tabs">
        <button class="tab-btn active" data-tab="pane-cues">字幕</button>
        <button class="tab-btn" data-tab="pane-quiz">測驗</button>
        <button class="tab-btn" data-tab="pane-vocab">單字</button>
      </div>

      <!-- 字幕 -->
      <div class="pane active" id="pane-cues">
        <table>
          <thead>
            <tr>
              <th style="width:90px">時間</th>
              <th>英文</th>
              <th style="width:35%">中文</th>
            </tr>
          </thead>
          <tbody id="cues-body"></tbody>
        </table>
      </div>

      <!-- 測驗 -->
      <div class="pane" id="pane-quiz" style="padding:10px 12px">
        <div id="quiz-body"></div>
      </div>

      <!-- 單字（填空/文法式） -->
      <div class="pane" id="pane-vocab">
        <table>
          <thead>
            <tr>
              <th style="width:90px">時間</th>
              <th>填空句</th>
              <th style="width:200px">答案 / 詞性</th>
              <th style="width:30%">中文</th>
            </tr>
          </thead>
          <tbody id="vocab-body"></tbody>
        </table>
      </div>
    </section>
  </div>

  <script src="player.js"></script>
</body>
</html>
